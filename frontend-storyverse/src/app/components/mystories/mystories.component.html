<app-navbar></app-navbar>
<div style="margin: 0 18%;">
    <div style="display: flex; justify-content: space-between; margin-top: 35px;">
        <h3>Mis historias</h3>
        <button class="purple-button" routerLink="/newstory">
            <i class="fa-solid fa-plus" style="font-size: 12px;"></i>
            &nbsp;Nueva historia
        </button>
    </div>
    <div class="mystories sombra">
        <div class="story" *ngFor="let story of myStories" style="display: flex; justify-content: space-between; border-bottom: #d4cddd 1px solid; margin: 0 20px;">
            <img class="sombra" src="{{story.urlCover}}" alt="Portada {{story.title}}" width="150px" style="height: 200px; margin-right: 25px;">
            <div style="display: flex; flex-direction: column; justify-content: center;">
                <a [routerLink]="['/edit-story', story.storyId]" class="sin-nada">
                    <h4 style="font-weight: bold; color: #635d6c;">{{story.title}}</h4>
                    <div style="display: flex; align-items: center;">
                        <i class="fa-solid fa-star" style="font-size: 14px; color: #635d6c;"></i>
                        <p class="p-icon">{{story.votes}}</p>
                        <i class="fa-solid fa-list" style="font-size: 14px; color: #635d6c;"></i>
                        <p class="p-icon">{{story.cantChapters}}</p>
                    </div>
                </a>
            </div>
            <div class="botones ml-auto">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item dropdown purple-button">
                        <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" (click)="getChapterList(story.storyId)">
                            Continuar escribiendo
                        </a>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item plomo" [routerLink]="['/edit-chapter', story.storyId, chapter.chapterId]" *ngFor="let chapter of chapters">{{chapter.title}}</a>
                            <hr>
                            <button [routerLink]="['/newchapter', story.storyId, story.title]" class="purple-button" style="margin: 5px 20px; padding: 5px; font-size: 13px;">
                                &nbsp;<i class="fa-solid fa-plus" style="font-size: 12px;"></i>
                                &nbsp;Agregar cap√≠tulo&nbsp;
                            </button>
                        </div>
                    </li>
                </ul>
                <button (click)="borrar(story.storyId)" class="purple-button float-right" style="padding: 5px 20px; font-size: 13.5px; margin-top: 10px;">
                    <i class="fa-solid fa-trash-can" style="font-size: 12px;"></i>
                    &nbsp;&nbsp;Eliminar historia
                </button>
            </div>
        </div>
    </div>
</div>
